<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Eh vabbuò</title>
    <!-- JavaScript -->
    <script src='OSC.js'></script>
    <script src='utilities.js'></script>
    <script src="fallingSentence.js"></script>
    <script src="fallingSentenceManager.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
    crossorigin="anonymous"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="formatting.css"> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
    crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
    crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
    crossorigin="anonymous"></script>
</head>

<body style="background-color: hsl(120, 55%, 30%);">

    <!-- Canvas for sentences -->
    <canvas id="c"></canvas> 
    <!-- SVG button -->
    <svg width="100" height="100" id="svgButton">
        <a xlink:href="/main.php">
            <circle cx="50" cy="50" r="40" fill="yellow" id="outer"></circle>
            <circle cx="50" cy="50" r="30" fill="green" id="inner"></circle>
        </a>
    </svg>    

    <!-- Modal thanks -->
    <div class="modal fade" id="advice" tabindex="-1" role="dialog" aria-labelledby="adviceLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="adviceLabel">Non ti ansiare amico</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
                </div>
                <div class="modal-body">
                    Ma la <i>best user-experience</i>, oltre che avere un uso come screensaver,
                    ce l'hai quando visiti vabbuò da PC premendo F11
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-dismiss="modal" data-toggle="tooltip" data-placement="bottom" title="Vabbuò dai">Vabbuò bomber ho capito</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Show modal on startup
        $(function () { $('#advice').modal(); });
        
        // Global vars
        color = Math.floor(Math.random() * 360);
        colorInner = Math.floor(Math.random() * 360);
        colorOuter = Math.floor(Math.random() * 360);
        lastColorUpdate = 400;
        canvas = $("#c");
        // Fast color apply
        rainbow(); 
        svgButton();
        // Strech canvas to the whole page
        updateCanvasDimensions(canvas);      
        // Reload on page resized  
        $(window).resize(function () { location.reload(); });        
        // Instanciating all objects
        fSM = new fallingSentenceManager(canvas, 4, true);
        // Update button dimensions
        buttonDimensions(fSM.canvasHeight);
        // Begin animation 
        setTimeout(function () { // Used to wait a little for the AJAX responses            
            requestAnimationFrame(animate);
        }, 2000);  
    </script>
</body>

</html>